<%page expression_filter="h"/>
<%inherit file="main.html" />
<%namespace name='static' file='static_content.html'/>
<%!
    from django.utils.translation import ugettext as _
    from django.urls import reverse
    from microsite_configuration import microsite
    from openedx.core.djangolib.markup import HTML, Text
%>
<link rel="stylesheet" type="text/css" href="/static/css/pop.css">
<%include file="header/course-detail-view.html"/>
<div id="layerPopupArea" class="layerPopupArea">
    % for pop in popup_list:
        % if pop['popup_type'] == 'H' and pop['site_id'] is None:
            <%include file="${popup_base}" args="pop=pop"/>
        % elif pop['popup_type'] == 'I' and pop['site_id'] is None:
            <%include file="${popup_image_base}" args="pop=pop"/>
        % endif
    % endfor
</div>


<script language="Javascript">
$( document ).ready(function() {
    $( ".slide_viewer" ).hover(function() {
        $('#arrow_box_left').css("background-color", "#333");
        $('#arrow_box_right').css("background-color", "#333");
    },
    function(){
        $('#arrow_box_left').css("background-color", "");
        $('#arrow_box_right').css("background-color", "");
    });

    $('.kr01-arrow').keydown(function(e){
        console.log(e.keyCode);
        $.browser.chrome = /chrom(e|ium)/.test(navigator.userAgent.toLowerCase());

        if((e.keyCode === 13 || e.keyCode === 32) && $.browser.chrome){
            $('#middle_list_link').click();
        }
    });

    $('#middle_list_link').click(function(e){
        e.preventDefault();
        if($('#middle_list').is(':visible') == false) {
            $('#middle_list').css({'display': 'inline-block'});
            $('.kr01-arrow').addClass('active');
            $('.kr01-arrow').text('▲');
            $('#arrow_open').text(gettext('Contract'));
        } else {
            $('#middle_list').hide();
            $('.kr01-arrow').removeClass('active');
            $('.kr01-arrow').text('▼');
            $('#arrow_open').text(gettext('Expand'));
        }
    });
});


function popClose(id){
    $("#" + id).hide();
}


function setCookie( name, value, expiredays ) {
    var todayDate = new Date();
    if(expiredays == '0'){
        expiredays = '999';
    }
    todayDate.setDate( todayDate.getDate() + Number(expiredays) );
    document.cookie = name + "=" + escape( value ) + "; path=/; expires=" + todayDate.toGMTString() + ";"
}


function closeWin(check, id, hidden_day) {
    if ($("#" + check).is(":checked")){
        setCookie( id , "done" , hidden_day);
    }
    $("#" + id).css("display" , "none");
}


cookiedata = document.cookie;


$("#layerPopupArea .pop_content").each(function() {
    var content_id = $(this).attr("id");
    $("#"+content_id).html($("#"+content_id).text());
});


var leng = '${max_pop}';
leng = Number(leng);
for (var i = 1; i<=leng; i++) {
    if (cookiedata.indexOf(i +"=done") < 0) {
        %if LANG == 'en':
            $("#" + i).css("display" , "none");
        %else:
            $("#" + i).css("display" , "inline-block !important;");
        %endif
    } else {
        $("#" + i).css("display" , "none");
    }
}


function setCookie1( name, value, expiredays ) {
    var todayDate = new Date();
    todayDate.setDate( todayDate.getDate() + parseInt(expiredays) );
    document.cookie = name + "=" + escape( value ) + "; path=/; expires=" + todayDate.toGMTString() + ";"
}

cookiedata = document.cookie;
</script>


<style>
    .home > header .outer-wrapper {
        width: 100%;height:100%;box-sizing:border-box;
	    padding:100px 0 0 0;
    }
    .course-search{
        width: 300px;
        float: right;
        margin-right: 30px;
    }
</style>


%if request.user.id and not request.user.is_active:
<script>
    setTimeout(function () {
        alert('${_("Since we sent an email to activate your account, please log back in to your site via your account activation email.. Click OK button to log out automatically.")}');
        document.location.href = "/logout";
    }, 500);
</script>
%endif


<script type="text/javascript">
    $(document).ready(function(){
        // link to courses event
        $(".link_to_courses [data-term]").each(function(){
            $(this).click(function(e){
                e.preventDefault();
                let form = $("<form>", {action: "/courses", method: "POST"}),
                csrftoken = $("<input>", {name: "csrfmiddlewaretoken", value: $.cookie('csrftoken')}),
                term = $("<input>", {name: $(this).data('facet'), value: $(this).data('term')});
                form.append(csrftoken, term);
                if(form) {
                    form.appendTo($("body")).submit();
                }
            });
        });
        var sliderOptions = {
            mode: 'vertical',
            slideSelector: '.slider article.slide',
            minSlides: 1,
            maxSlides: 1,
            auto: ($('#board_slider').children().length < 2) ? false : true,
            autoHover: true,
            infiniteLoop: true,
            controls: true,
            touchEnabled : (navigator.maxTouchPoints > 0),
            prevSelector: 'div.bxslider-prev',
            prevText: '<span class="hidden_head">${_("Previous")}</span>',
            nextSelector: 'div.bxslider-next',
            nextText: '<span class="hidden_head">${_("Next")}</span>',
            onSliderLoad: function(currentIndex) {
                $('.bx-clone').find('a').prop('tabindex', '-1');
            },
            onSlideBefore: function($slideElement, oldIndex, newIndex) {
                var comm_link = $slideElement.find("a").attr("href");
                var comm_category = $slideElement.find("span.comm-category").text();
                var comm_link_gbn = comm_link.split('/');
                var comm_more = '#';
                if(comm_link_gbn[2] != 'F') {
                    comm_more = '/comm_list/' + comm_link_gbn[2];
                }
                else {
                    comm_more = '/comm_tabs/kmooc_f/';
                }
                $(".kr01-slider-extend").children('a').attr('href', comm_more);
                $("#comm_more").attr('title', comm_category);
            },
            onSlideAfter: function(){
                $("#board_slider").children("article").each(function(){
                    if ($(this).attr("aria-hidden") == "false") {
                        $(this).find("a").prop("tabindex", "0");
                    } else {
                        $(this).find("a").prop("tabindex", "-1");
                    }
                });
            }
        };
        var board_slider = $('#board_slider').bxSlider(sliderOptions);

        // 접근성 슬라이더 수정
        $('#board_slider article').focusin(function () {
            $('#board_slider article').removeClass('focus');
            $(this).parents('article').addClass('focus');
            board_slider.stopAuto();
            if($('#board_slider article:first-child').hasClass('focus')){
                board_slider.css('transform', 'translate3d(0, 0px, 0px)');
            }
        });
    });
</script>


<style>
    .more {
        color: #222 !important;
    }
    .quick-link > li > a {
        color: #222 !important;
    }
    .classify-item {
        color: #222 !important;
    }
    .link {
        color: #222 !important;
    }
    .instructor {
        color: #222 !important;
    }
    .course-item {
        text-decoration:none !important
    }
</style>
<main id="main" aria-label="Content" tabindex="-1" class="main-content">
    <section class="sec-visual about">
        <div class="container-fluid">
            <div class="visual-row">
                <div class="visual-col txt">
                    <h1 class="title" style="text-align: left; color: #222;">K-MOOC 소개</h1>
                    <p class="content" style="color: #222;">K-MOOC는 온라인을 통해서<br>누구나, 어디서나 원하는 강좌를 무료로 들을 수 있는<br>온라인 공개강좌 서비스로 2015년에 시작된<br>한국형 무크입니다.</p>
                    <a href="/about" class="more">more</a>
                </div>
                <div class="visual-col img"></div>
            </div>
        </div>
    </section>
    <section class="sec-visual lec">
        <div class="container-fluid">
            <div class="visual-row">
                <div class="visual-col img"></div>
                <div class="visual-col txt">
                    <h1 class="title" style="text-align: left; color: #222;">강좌찾기</h1>
                    <p class="content" style="color: #222;">K-MOOC의 다양한 강좌를 통해 목표를 달성해 보세요.</p>
                    <ul class="quick-link">
                        <li>
                            <a href="/series/">묶음 강좌</a>
                        </li>
                        <li>
                            <a href="#">분야별 강좌</a>
                        </li>
                        <li>
                            <a href="/search">학점은행제</a>
                        </li>
                    </ul>
                    <a href="/courses" class="more">more</a>
                </div>
            </div>
        </div>
    </section>
    <section class="sec-classify">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-4 col-md-4 col-lg-2">
                    <a href="#" class="classify-item">4차 산업혁명</a>
                </div>
                <div class="col-sm-4 col-md-4 col-lg-2">
                    <a href="#" class="classify-item">AI 인공지능</a>
                </div>
                <div class="col-sm-4 col-md-4 col-lg-2">
                    <a href="#" class="classify-item">이공계 기초과학</a>
                </div>
                <div class="col-sm-4 col-md-4 col-lg-2">
                    <a href="#" class="classify-item">한국학</a>
                </div>
                <div class="col-sm-4 col-md-4 col-lg-2">
                    <a href="#" class="classify-item">직업교육</a>
                </div>
                <div class="col-sm-4 col-md-4 col-lg-2">
                    <a href="#" class="classify-item">연령별 강좌보기</a>
                </div>
            </div>
        </div>
    </section>
    <section class="sec-course">
        <div class="container-fluid">
        <div class="course-top">
            <h1 class="title">이런 강좌는 어떠세요?</h1>
            <ul class="tab-group">
                <li>
                    <a href="#" class="tab active">인기강좌</a>
                </li>
                <li>
                    <a href="#" class="tab">신규강좌</a>
                </li>
                <li>
                    <a href="#" class="tab">오늘의 강좌</a>
                </li>
                <li>
                    <a href="#" class="tab">수강중인 강좌</a>
                </li>
            </ul>
        </div>
        <div class="owl-carousel course-carousel owl-loaded owl-drag">
        <div class="owl-stage-outer"><div class="owl-stage" style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 1488px;"><div class="owl-item active" style="width: 277.5px; margin-right: 20px;"><div class="item">
                <a href="#" class="course-item">
                    <div class="course-thumb">
                        <figure>
                            <img src="/static/new_index/images/img_sample_001.png">
                            <span class="more">
                                <span>자세히 보기</span>
                            </span>
                        </figure>
                    </div>
                    <h2 class="course-title">AWS와 텐서플로우 기반 IoT 빅테이터 실습 및 활용</h2>
                    <div class="course-info">
                        <p class="instructor">
                            <span>이종혁 외 1명</span>
                            <span>대구가톨릭대학교</span>
                        </p>
                        <p class="period">
                            <span class="date">2020/02/17 ~ 2020/03/16</span>
                            <span class="state ing">진행중</span>
                        </p>
                    </div>
                </a>
            </div></div><div class="owl-item active" style="width: 277.5px; margin-right: 20px;"><div class="item">
                <a href="#" class="course-item">
                    <div class="course-thumb">
                        <figure>
                            <img src="/static/new_index/images/img_sample_002.png">
                            <span class="more">
                                <span>자세히 보기</span>
                            </span>
                        </figure>
                    </div>
                    <h2 class="course-title">베이비시터 ‘함께키움’의 세상을 만들다</h2>
                    <div class="course-info">
                        <p class="instructor">
                            <span>부산디지털대학교</span>
                        </p>
                        <p class="period">
                            <span class="date">2020/02/17 ~ 2020/03/16</span>
                            <span class="state soon">개강예정</span>
                        </p>
                    </div>
                </a>
            </div></div><div class="owl-item active" style="width: 277.5px; margin-right: 20px;"><div class="item">
                <a href="#" class="course-item">
                    <div class="course-thumb">
                        <figure>
                            <img src="/static/new_index/images/img_sample_003.png">
                            <span class="more">
                                <span>자세히 보기</span>
                            </span>
                        </figure>
                    </div>
                    <h2 class="course-title">비전공자를 위한 기초 화학</h2>
                    <div class="course-info">
                        <p class="instructor">
                            <span>한양대학교</span>
                        </p>
                        <p class="period">
                            <span class="date">2020/02/17 ~ 2020/03/16</span>
                            <span class="state possible">청강가능</span>
                        </p>
                    </div>
                </a>
            </div></div><div class="owl-item active" style="width: 277.5px; margin-right: 20px;"><div class="item">
                <a href="#" class="course-item">
                    <div class="course-thumb">
                        <figure>
                            <img src="/static/new_index/images/img_sample_004.png">
                            <span class="more">
                                <span>자세히 보기</span>
                            </span>
                        </figure>
                    </div>
                    <h2 class="course-title">한국어를 부탁해: 한국어 중급</h2>
                    <div class="course-info">
                        <p class="instructor">
                            <span>이종혁 외 1명</span>
                            <span>대구가톨릭대학교</span>
                        </p>
                        <p class="period">
                            <span class="date">2020/02/17 ~ 2020/03/16</span>
                            <span class="state end">종료</span>
                        </p>
                    </div>
                </a>
            </div></div><div class="owl-item" style="width: 277.5px; margin-right: 20px;"><div class="item">
                <a href="#" class="course-item">
                    <div class="course-thumb">
                        <figure>
                            <img src="/static/new_index/images/img_sample_002.png">
                            <span class="more">
                                <span>자세히 보기</span>
                            </span>
                        </figure>
                    </div>
                    <h2 class="course-title">Mathematical Fundamentals for Data Science</h2>
                    <div class="course-info">
                        <p class="instructor">
                            <span>고려대학교</span>
                        </p>
                        <p class="period">
                            <span class="date">2020/02/17 ~ 2020/03/16</span>
                            <span class="state soon">개강예정</span>
                        </p>
                    </div>
                </a>
            </div></div></div></div><div class="owl-nav"><button type="button" role="presentation" class="owl-prev disabled"><span aria-label="Previous">‹</span></button><button type="button" role="presentation" class="owl-next"><span aria-label="Next">›</span></button></div><div class="owl-dots disabled"></div></div>
        </div>
    </section>
    <section class="sec-visual com">
        <div class="container-fluid">
            <div class="visual-row">
                <div class="visual-col txt">
                    <h1 class="title">커뮤니티</h1>
                    <p class="content">K-MOOC 소식을 전해드립니다.</p>
                    <ul class="quick-link">
                        <li>
                            <a href="/comm_list/N/">공지사항</a>
                        </li>
                        <li>
                            <a href="/comm_list/K/">새소식</a>
                        </li>
                        <li>
                            <a href="/comm_list/R/">자료실</a>
                        </li>
                        <li>
                            <a href="/comm_tabs/kmooc_f/">FAQ</a>
                        </li>
                    </ul>
                </div>
                <div class="visual-col img"></div>
            </div>
        </div>
    </section>
    <section class="sec-number">
        <div class="container-fluid">
            <h1 class="title">숫자로 보는 K-MOOC</h1>
            <div class="row">
                <div class="col-sm-4 col-md-4 col-lg-4">
                    <div class="number-item student">
                        <h2 class="sub-title">70만명+</h2>
                        <p class="cont">수강 신청자 70만명 돌파<br>누적 방문자 700만명 돌파</p>
                        <a href="/register" class="link">회원가입하기</a>
                    </div>
                </div>
                <div class="col-sm-4 col-md-4 col-lg-4">
                    <div class="number-item course">
                        <h2 class="sub-title">무료 강좌 500개+</h2>
                        <p class="cont">온라인 무료 강좌 500개 돌파</p>
                        <a href="/courses" class="link">전체 강좌 보기</a>
                    </div>
                </div>
                <div class="col-sm-4 col-md-4 col-lg-4">
                    <div class="number-item agency">
                        <h2 class="sub-title">참여기관 100개+</h2>
                        <p class="cont">대학, 공공기관 및 해외기관</p>
                        <a href="/about?tab=3" class="link">참여기관 모두 보기</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>


% if show_homepage_promo_video:
    <section id="video-modal" class="modal home-page-video-modal video-modal">
        <div class="inner-wrapper">
            <iframe title="YouTube Video" width="640" height="360" src="//www.youtube.com/embed/${homepage_promo_video_youtube_id}?showinfo=0" frameborder="0" allowfullscreen></iframe>
        </div>
    </section>
% endif


<%block name="js_extra">
   <script type="text/javascript">
      $(window).load(function() {
         if(getParameterByName('next')) {
              $('#login').trigger("click");
         }
      })
   </script>
</%block>


% if show_signup_immediately is not UNDEFINED:
<script type="text/javascript">
    $(window).load(function() {$('#signup_action').trigger("click");});
</script>
% endif
